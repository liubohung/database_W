<!DOCTYPE html>
<html>
<head>
	<title>Delete Student data</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>     
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>  
    <link rel="stylesheet" type="text/css" href="bootstrap-3.3.7-dist\css\bootstrap.min.css">
	<script src="bootstrap-3.3.7-dist\js/bootstrap.min.js"></script>
</head>
<body>
	<h1>刪除教師資料</h1>
	<form>
		<select name="查詢項目">
		　<option value="id">教師id</option>
		　<option value="name">姓名</option>
		</select>
		<input type="text" name="Teacher_id">
		<input type="submit" id="button_s" value="查詢"/>
    </form>
    <script>
        function post_sub(PARAMS) {
            var temp = document.createElement("form");        
            temp.action = "DTD.php";        
            temp.method = "post";        
            temp.style.display = "none";
            var opt = document.createElement("input");        
            opt.name = 'T_id';        
            opt.value = PARAMS;
            temp.appendChild(opt);        
            document.body.appendChild(temp);        
            temp.submit();        
            return temp;        
        }
    </script>
	<!-- <table id="mydiv" border="1" align="center">
        <tbody id ="mytbody">
        </tbody>
    </table> -->
    <!-- <input type="submit" name="button_del" value="刪除" onclick="post_sub(11)"> -->
    <script>
        $(document).ready(function(){
   		    $("#button_s").click(function(){
                console.log("111");
                $.ajax({
                    type: "POST",
                    url: "DT.php",
                    dataType: "html",
                    data: {
                        Class: $("#member").val(),
                        Collage: $("#department").val(),
                    },
                    error: function(xhr) {
                        alert('Ajax request 發生錯誤');  
                    },
                    success: function(msg){
                        var array_return =  $.parseJSON ( msg );
                        if(array_return['errorMsg'] == "SQL Connection failed" || array_return['errorMsg'] == "only POST"){
                            alert("發生錯誤");
                        }else{
                            var txt3=document.createElement("table"); 
                            var dii = "<td>";
                            var eddi = "</td>";
                            $("table" ).append("<tr id=\"T_id\"></tr><tr id=\"name\"></tr><tr id=\"college\"></tr><tr id=\"department\"></tr><tr id =\"class\"></tr><tr id=\"mail\"></tr><tr id=\"level\"></tr>");
                            $("table").append("<td>教師id</td>" +dii + array_return['Teacher_id'] + eddi);
                            $("table").append("<td>名字</td>" + dii + array_return['Name'] + eddi);
                            $("table").append("<td>學院</td>"+dii+array_return['College'] + eddi);
                            $("table").append("<td>系級</td>"+dii+array_return['Department'] + eddi);
                            $("table").append("<td>班級</td>"+dii+array_return['Class'] + eddi);
                            $("table").append("<td>信箱</td>"+dii+array_return['Email'] + eddi);
                            $("table").append("<td>職別</td>"+dii+array_return['Level'] + eddi);
                            $("table").append("<input type=\"submit\" name=\"button_del\" value=\"刪除\" onclick =\"post_sub(" + array_return['Teacher_id'] + ")\">");
                        }  
                    }
                });
            });
        });
    </script>
    <!-- <div id ="del_button"></div>     -->
</body>
</html>
